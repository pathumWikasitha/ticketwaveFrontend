<div class="container mt-4 h-auto">
  <!-- Hero Section for Admin Dashboard -->
  <div class="container-fluid bg-dark text-white text-center py-5 mb-4 rounded">
    <h1 class="fw-bold">Admin Dashboard</h1>
    <p class="mt-3">
      Manage configurations, monitor systems, and control ticketing processes effortlessly.
    </p>
  </div>

  <div class="container mt-4 bg-light p-4 rounded">
    <h4 class="fw-bold mb-3" style="font-size: 1.5rem;">Rate Limiter Configuration</h4>
    <div class="row">
      <div class="col-md-6">
        <p><strong>1 second =</strong> 1000 milliseconds</p>
        <p><strong>Time Unit:</strong> Second / Milliseconds</p>
      </div>
      <div class="col-md-6">
        <p><strong>Description:</strong> This is a rate limiter that controls how fast tickets can be added and purchased in the system.</p>
        <p><strong>Function:</strong> Forces a pause between each ticket addition and customer purchase.</p>
      </div>
    </div>
  </div>

  <div class="container mt-4" style="min-height: 46vh">
    <form [formGroup]="configForm">
      <!-- Total Tickets -->
      <div class="form-group mb-3">
        <label for="totalTickets">Total Tickets</label>
        <input
          type="number"
          class="form-control"
          id="totalTickets"
          formControlName="totalTickets"
          [ngClass]="{
          'is-invalid': configForm.get('totalTickets')?.invalid && configForm.get('totalTickets')?.touched
        }"
        />
        <div class="invalid-feedback">
          Total Tickets is required and must be greater than 0.
        </div>
      </div>

      <!-- Max Capacity -->
      <div class="form-group mb-3">
        <label for="maxTicketCapacity">Max Ticket Capacity</label>
        <input
          type="number"
          class="form-control"
          id="maxTicketCapacity"
          formControlName="maxTicketCapacity"
          [ngClass]="{
          'is-invalid': configForm.get('maxTicketCapacity')?.invalid && configForm.get('maxTicketCapacity')?.touched
        }"
        />
        <div class="invalid-feedback">
          Max Capacity is required and must be greater than 0.
        </div>
      </div>

      <!-- Customer Retrieval Rate -->
      <div class="form-group mb-3">
        <label for="customerRetrievalRate">Customer Retrieval Rate (Milliseconds)</label>
        <input
          type="number"
          class="form-control"
          id="customerRetrievalRate"
          formControlName="customerRetrievalRate"
          [ngClass]="{
          'is-invalid': configForm.get('customerRetrievalRate')?.invalid && configForm.get('customerRetrievalRate')?.touched
        }"
        />
        <div class="invalid-feedback">
          Customer Retrieval Rate is required and must be greater than 0.
        </div>
      </div>

      <!-- Vendor Release Rate -->
      <div class="form-group mb-3">
        <label for="ticketReleaseRate">Vendor Release Rate (Milliseconds)</label>
        <input
          type="number"
          class="form-control"
          id="ticketReleaseRate"
          formControlName="ticketReleaseRate"
          [ngClass]="{
          'is-invalid': configForm.get('ticketReleaseRate')?.invalid && configForm.get('ticketReleaseRate')?.touched
        }"
        />
        <div class="invalid-feedback">
          Vendor Release Rate is required and must be greater than 0.
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="d-flex justify-content-between mt-4">
        <button type="button" class="btn btn-primary" (click)="saveConfiguration()" [hidden]="isConfigLoaded">Save</button>
        <button type="button" class="btn btn-warning" (click)="updateConfiguration()" [hidden]="!isConfigLoaded">Update</button>
        <button type="button" class="btn btn-info" (click)="loadConfiguration()" [hidden]="isConfigLoaded">Load</button>
        <button type="button" class="btn btn-danger" (click)="deleteConfiguration()" [hidden]="!isConfigLoaded">Delete</button>
      </div>
    </form>

    <!-- Start/Stop System -->
    <div class="mt-4 text-center">
      <button
        class="btn btn-success btn-lg me-2"
        [hidden]="(!isConfigLoaded || systemRunning)"
        (click)="startSystem()"
      >
        Start System
      </button>
      <button
        class="btn btn-danger btn-lg ms-2"
        [hidden]="!systemRunning"
        (click)="stopSystem()"
      >
        Stop System
      </button>
    </div>
  </div>
</div>


